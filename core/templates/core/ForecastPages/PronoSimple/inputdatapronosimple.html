{% extends 'core/App/app.html' %}

{% block title %}Entrada de Datos{% endblock %}

{% block styles %}
    {% load static %}  
    <link rel="stylesheet" href="{% static 'core/css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/pronosimple/inputdatapronosimple.css' %}">
    <link rel="stylesheet" href="{% static 'core/vendor/table-excel/table-excel.css' %}">
    <link rel="stylesheet" href="{% static 'core/vendor/bootstrap-4.1.3/css/btn.css' %}">  
    <link rel="stylesheet" href="{% static 'core/vendor/input-file-drag-drop/input-file-drag-drop.css' %}">
{% endblock styles %}




{% block content %}
    {% include 'core/Navbar/Navbar.html' %}
    {% include "core/ForecastPages/Header/Header.html" with inputDataFlag=True %}
    {% include "core/ForecastPages/Pronosimple/InputDataBody.html" %}
    {% include 'core/Footer/Footer.html' %}
{% endblock content %}




{% block modal %}
    {% load static %}  
    <div class="modal fade" id="modalExample" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(0,0,0,0.75) !important;">
        <div class="modal-dialog" role="document" style="width: 80% !important;max-width: 80% !important;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel" language="true">EJEMPLO ENTRADA</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <section class="text-center">
                        <img src="{% static 'core/img/example.PNG' %}" width="100%">   
                        <p class="text-muted"><small language="true">Ejemplo de Entrada 1</small></p>
                        <img src="{% static 'core/img/example_2.PNG' %}" width="60%">
                        <p class="text-muted"><small language="true">Ejemplo de Entrada 2</small></p>
                    </section>
                    
                    <section class="mt-4">
                        <div class="container">
                            <h1 class="text-center" language="true">Información Importante</h1>
                            <p class="text-justify" language="true">Primer cosa a considerar es que por el momento solo se aceptan periodos de Años/Meses o Semanas/Días tal 
                                y como se muestra en las imágenes de ejemplo, se aconseja empezar desde la columna A y la fila 1 en su 
                                archivo de excel, y solo se acepta un limite mínimo de 2 filas ya sea en años o semanas y un máximo de 7,
                                ademas los Formatos de Archivos de Excel Permitidos son .xls, .xlsm,.xlsx, y .csv</p>
                        </div>
                    </section>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}



{% block scripts %}
    <script src="{% static 'core/vendor/language-component/language-component.js' %}"></script>
    <script src="{% static 'core/js/post-request-as-form.js' %}"></script>

    <script>
        function init(){
            $("button[data-toggle=collapse]").on('click',function(){
                //console.log($($(this).attr("collapse")).css("display"));
                //$($(this).attr("collapse")).attr('style', 'display: block !important;');
                $($(this).attr("collapse")).toggleClass('d-block');
            });

            $(window).resize(function(){
                if($(window).width() > 772){
                    var list = $("header nav ul")
                    if( list.css("display") == "block"){
                        list.removeClass("d-block");
                        list.attr('style','display: flex;');
                    }                    
                }
                if($(window).width() > 722){
                    var list = $("#div-list-01-collapse");  
                    if( list.css("display") == "block"){
                        list.removeClass("d-block");
                        list.attr('style','display: none;');
                    }  
                }
            })
        }
        window.addEventListener('load',init,false);
    </script>


    <script>
        var TOKEN = "{{csrf}}"
        var POST_ROUTE = "{% url 'simplepronosgraph' %}{{parameters}}"
    </script>

    {% load static %}
    <script src="{% static 'core/vendor/language-component/inputdatapronosimple/language-dataset.js' %}"></script>
    <script src="{% static 'core/vendor/table-excel/table-excel.js' %}"></script>
    <script src="{% static 'core/vendor/table-excel/table-excel-request-data.js' %}"></script>   
    <script src="{% static 'core/vendor/input-file-drag-drop/input-file-drag-drop.js' %}"></script>
    <script src="{% static 'core/js/validate-input-file.js' %}"></script>
    
    <script>
        $(document).ready(function(){
            $('#modalExample').modal('hide')      
        });      
    </script>

    <script>
        $("#button-create-table").click(function(e){
            $("#section-table").attr('style', 'display: block;')
            $(e.target).attr('style','display: none;')
        });
    </script> 
{% endblock %}