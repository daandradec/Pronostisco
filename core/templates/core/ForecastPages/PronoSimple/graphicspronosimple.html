{% extends 'core/App/app.html' %}

{% block title %}Graficos{% endblock %}

{% block styles %}
    {% load static %}   
    <link rel="stylesheet" href="{% static 'core/css/footer.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/navbar.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/pronosimple/graphicspronosimple.css' %}">
{% endblock %}

{% block content %}
    {% include 'core/Navbar/Navbar.html' %}
    {% include "core/ForecastPages/Header/Header.html" %}

    <section class="my-4">

        {% include 'core/ForecastPages/tag-block.html' %}

        <div class="container-fluid">
            <div class="row">
                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 my-1">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecastSimple.html' with idChart="line-chart-01" title="GRÁFICA COMPLETA" graphFullModal="1" %}
                </div>
                <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 my-1">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecastSimple.html' with idChart="line-chart-02" title="GRÁFICA POR PERIODOS" graphFullModal="2" %}
                </div>  
            </div>
        </div>

    </section>

    <section class="center my-4">
       {% include 'core/ForecastPages/ChartForecast/ChartBestForecast.html' %}
    </section>

    <section class="my-4">
        <div class="container-fluid">
            <div class="row">

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 my-4">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecast.html' with idChart="line-chart-04" idTitleLine="4" title="MÉTODO LINEAL" btnLineChart="4" btnFlagChart="0" btnModalIndex="1" %}
                </div>

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 my-4">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecast.html' with idChart="line-chart-05" idTitleLine="5" title="MÉTODO EXPONENCIAL" btnLineChart="5" btnFlagChart="0" btnModalIndex="2" %}
                </div>

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 my-4">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecast.html' with idChart="line-chart-06" idTitleLine="6" title="MÉTODO CUADRÁTICO" btnLineChart="6" btnFlagChart="0" %}
                </div>

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 my-4">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecast.html' with idChart="line-chart-07" idTitleLine="7" title="PROMEDIO MÓVIL N=2" btnLineChart="7" btnFlagChart="0" btnModalIndex="3" %}
                </div>

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 my-4">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecast.html' with idChart="line-chart-08" idTitleLine="8" title="PROMEDIO MÓVIL N=3" btnLineChart="8" btnFlagChart="0" %}
                </div>

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 my-4">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecast.html' with idChart="line-chart-09" idTitleLine="9" title="SUAVIZACIÓN EXPONENCIAL SIMPLE" btnLineChart="9" btnFlagChart="1" %}
                </div>

                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 my-4">
                    {% include 'core/ForecastPages/ChartForecast/ChartForecast.html' with idChart="line-chart-10" idTitleLine="10" title="SUAVIZACIÓN EXPONENCIAL DOBLE" btnLineChart="10" btnFlagChart="1" %}
                </div>
                                                                                             
            </div>
        </div>
    </section>

{% endblock %}

{% block modal %}
    {% include "core/Modal/Modal.html" with modalId="modalExample" modalBasePath="core/Modal/" modalHeaderPath="/ModalForecast/ModalForecastHeader.html" modalBodyPath="ModalForecast/ModalForecastBody.html" %}
    <!--
    <div class="modal fade" id="modalExample" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(0,0,0,0.75) !important;">
        <div class="modal-dialog modal-dialog-centered center" role="document" style="width: 90% !important;max-width: 90% !important;">
            <div class="modal-content">
                <div class="modal-header" style="background-image:url({% static 'core/img/background-04.png' %});">
                    
                    <div class="w-100 pl-5">
                        <h5 class="modal-title font-lato font-size-27px-3c font-weight-bold" id="exampleModalLabel" style="color:orange;text-shadow: 1px 0px 1px #684900;"></h5>
                    </div>
                    
                    
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <canvas id="line-chart-20"></canvas>
                    <br>
                    
                    <table class="table">
                        <thead class="bg-info">
                            <tr> 
                                <th class="font-alegreya-sans font-size-26px-3c text-white" language="true">Nivel de Certeza</th>
                            </tr>
                        </thead>
                        <tbody class="bg-light">
                            <tr>
                                <td id="correlation" class="corre hov-scale c-pointer font-quicksand font-size-24px-3c" style="color:#435165;">0.95 <span>%</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <br>
                    <div style="width:100%;;max-height:700px;overflow-y: auto;display:block;">
                        <table class="table mx-auto" style="width:50%;" forecast-table="true" forecast-alpha="0">
                            <thead>
                                <tr class="bg-dark">
                                    <th class="text-white font-size-22px-2c" fore-title="true">Indice</th>
                                    <th class="text-white font-size-22px-2c" language="true">Pronostico</th>
                                </tr>
                            </thead>
                            <tbody class="bg-light">                                                     
                            </tbody>
                        </table>                    
                    </div>
                    <br>                    
                    <div class="text-center">
                        <button class="btn btn-primary my-2" onclick="downloadChart()" language="true">Descargar Imagen</button>
                        <a href="/pronosticos-alpha/download" link-post='true' line-chart='0' class="btn btn-success" language="true">Descargar Excel</a>
                    </div>            
                    <a href="#" id="link-download" style="visibility:hidden;"></a>
                </div>
            </div>
        </div>
    </div>
    -->
{% endblock %} 

{% block modal_fore_lin %}
    {% include "core/Modal/Modal.html" with modalId="modal_lin" modalBasePath="core/Modal/" modalHeaderPath="/ModalForecast/ModalForecastHeader.html" modalBodyPath="ModalForecastLin/ModalForecastLin.html" %}
    <!--
    <div class="modal fade" id="modal_lin" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(0,0,0,0.75) !important;">
        <div class="modal-dialog modal-dialog-centered center" role="document" style="width: 90% !important;max-width: 90% !important;">
            <div class="modal-content">
                <div class="modal-header" style="background-image:url({% static 'core/img/background-04.png' %});">
                    
                    <div class="w-100 pl-5">
                        <h5 class="modal-title font-lato font-size-27px-3c font-weight-bold" id="exampleModalLabel" style="color:orange;text-shadow: 1px 0px 1px #684900;"></h5>
                    </div>
                    
                    
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <canvas id="line-chart-15"></canvas>
                    <br>
                    
                    <table class="table">
                        <thead class="bg-info">
                            <tr> 
                                <th class="font-alegreya-sans font-size-26px-3c text-white" language="true">Nivel de Certeza</th>
                            </tr>
                        </thead>
                        <tbody class="bg-light">
                            <tr>
                                <td class="corre hov-scale c-pointer font-quicksand font-size-24px-3c" style="color:#435165;">0.95 <span>%</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <br>
                    <div class="table-responsive-sm">
                        <table class="table">
                            <thead>
                                <tr class="bg-warning">
                                    <th class="font-alegreya-sans font-size-28px-3c font-weight-bold">a</th>
                                    <th class="font-alegreya-sans font-size-28px-3c font-weight-bold">b</th>
                                </tr>
                            </thead>
                            <tbody class="bg-light">
                                <tr>
                                    <td class="hov-scale c-pointer font-quicksand font-size-24px-3c">{{a_lineal}}</td>
                                    <td class="hov-scale c-pointer font-quicksand font-size-24px-3c">{{b_lineal}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <br>
                    <p class="text-center font-weight-light text-muted font-size-18px-2c" language="true">Variables del metodo lineal</p>
                    <div class="table-responsive-sm">
                        <table class="mx-auto table table-striped table-hover table-sm">
                            <thead>
                                <tr class="bg-light">
                                    <th class="text-secondary font-size-20px-2c">X</th>
                                    <th class="text-secondary font-size-20px-2c">Y</th>
                                    <th class="text-secondary font-size-20px-2c">Y^2</th>
                                    <th class="text-secondary font-size-20px-2c">X*Y</th>
                                    <th class="text-secondary font-size-20px-2c">Forecast</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for x1,x2,x3,x4,x5 in lineal_data %}
                                <tr>                                
                                    <td class="font-quicksand" style="color:#52524e;">{{x1}}</td>
                                    <td class="font-quicksand" style="color:#52524e;">{{x2}}</td>
                                    <td class="font-quicksand" style="color:#52524e;">{{x3}}</td>
                                    <td class="font-quicksand" style="color:#52524e;">{{x4}}</td>  
                                    <td class="font-quicksand" style="color:#52524e;">{{x5}}</td>                                
                                </tr>
                                {% endfor %}                            
                            </tbody>
                        </table>
                    </div>
                    <div class="text-center">
                        <button class="btn btn-primary my-2" onclick="downloadChartLine()" language="true">Descargar Imagen</button>
                        <a href="/pronosticos-alpha/download" link-post='true' line-chart='0' class="btn btn-success" language="true">Descargar Excel</a>
                    </div>            
                    <a href="#" id="link-download-line" style="visibility:hidden;"></a>
                </div>
            </div>
        </div>
    </div>
    -->
{% endblock %} 

{% block modal_fore_expo %}
    {% include "core/Modal/Modal.html" with modalId="modal_expo" modalBasePath="core/Modal/" modalHeaderPath="/ModalForecast/ModalForecastHeader.html" modalBodyPath="ModalForecastExpo/ModalForecastExpo.html" %}
    <!--
    <div class="modal fade" id="modal_expo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(0,0,0,0.75) !important;">
        <div class="modal-dialog modal-dialog-centered center" role="document" style="width: 90% !important;max-width: 90% !important;">
            <div class="modal-content">
                <div class="modal-header" style="background-image:url({% static 'core/img/background-04.png' %});">
                    
                    <div class="w-100 pl-5">
                        <h5 class="modal-title font-lato font-size-27px-3c font-weight-bold" id="exampleModalLabel" style="color:orange;text-shadow: 1px 0px 1px #684900;"></h5>
                    </div>
                    
                    
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <canvas id="line-chart-16"></canvas>
                    <br>
                    
                    <table class="table">
                        <thead class="bg-info">
                            <tr>
                                <th class="font-alegreya-sans font-size-26px-3c text-white" language="true">Nivel de Certeza</th>
                            </tr>
                        </thead>
                        <tbody class="bg-light">
                            <tr>
                                <td class="corre hov-scale c-pointer font-quicksand font-size-24px-3c" style="color:#435165;">0.95 <span>%</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <br>
                    <div class="table-responsive-sm">
                        <table class="table">
                            <thead>
                                <tr class="bg-warning">
                                    <th class="font-alegreya-sans font-size-28px-3c font-weight-bold">a</th>
                                    <th class="font-alegreya-sans font-size-28px-3c font-weight-bold">b</th>
                                </tr>
                            </thead>
                            <tbody class="bg-light">
                                <tr>
                                    <td class="hov-scale c-pointer font-quicksand font-size-24px-3c">{{a_expo}}</td>
                                    <td class="hov-scale c-pointer font-quicksand font-size-24px-3c">{{b_expo}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>                    
                    <br>
                    <p class="text-center font-weight-light text-muted font-size-18px-2c" language="true">Variables del metodo Exponencial</p>
                    <div class="table-responsive-sm">
                        <table class="mx-auto table table-striped table-hover table-sm">
                            <thead>
                                <tr class="bg-light">
                                    <th class="text-secondary font-size-20px-2c">X</th>
                                    <th class="text-secondary font-size-20px-2c">Y</th>
                                    <th class="text-secondary font-size-20px-2c">Y^2</th>
                                    <th class="text-secondary font-size-20px-2c">LN(X)</th>
                                    <th class="text-secondary font-size-20px-2c">LN(X)*Y</th>
                                    <th class="text-secondary font-size-20px-2c">Forecast</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for x1,x2,x3,x4,x5,x6 in expo_data %}
                                <tr>                                
                                    <td class="font-quicksand" style="color:#52524e;">{{x1}}</td>
                                    <td class="font-quicksand" style="color:#52524e;">{{x2}}</td>
                                    <td class="font-quicksand" style="color:#52524e;">{{x3}}</td>
                                    <td class="font-quicksand" style="color:#52524e;">{{x4}}</td>
                                    <td class="font-quicksand" style="color:#52524e;">{{x5}}</td>   
                                    <td class="font-quicksand" style="color:#52524e;">{{x6}}</td>                                
                                </tr>
                                {% endfor %}                            
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="text-center">
                        <button class="btn btn-primary my-2" onclick="downloadChartExpo()" language="true">Descargar Imagen</button>
                        <a href="/pronosticos-alpha/download" link-post='true' line-chart='0' class="btn btn-success" language="true">Descargar Excel</a>
                    </div>            
                    <a href="#" id="link-download-expo" style="visibility:hidden;"></a>
                </div>
            </div>
        </div>
    </div>
    -->
{% endblock %} 

{% block modal_fore_movil %}
    {% include "core/Modal/Modal.html" with modalId="modal_movil" modalBasePath="core/Modal/" modalHeaderPath="/ModalForecast/ModalForecastHeader.html" modalBodyPath="ModalForecastMovil/ModalForecastMovil.html" %}
    <!--
    <div class="modal fade" id="modal_movil" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(0,0,0,0.75) !important;">
        <div class="modal-dialog modal-dialog-centered center" role="document" style="width: 90% !important;max-width: 90% !important;">
            <div class="modal-content">
                <div class="modal-header" style="background-image:url({% static 'core/img/background-04.png' %});">
                    
                    <div class="w-100 pl-5">
                        <h5 class="modal-title font-lato font-size-27px-3c font-weight-bold" id="exampleModalLabel" style="color:orange;text-shadow: 1px 0px 1px #684900;"></h5>
                    </div>
                    
                    
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <canvas id="line-chart-17"></canvas>
                    <br>                    
                    <table class="table">
                        <thead class="bg-info">
                            <tr>
                                <th class="font-alegreya-sans font-size-26px-3c text-white" language="true">Nivel de Certeza</th>
                            </tr>
                        </thead>
                        <tbody class="bg-light">
                            <tr>
                                <td class="corre hov-scale c-pointer font-quicksand font-size-24px-3c" style="color:#435165;">0.95 <span>%</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <br>
                    <p class="text-center font-weight-light text-muted font-size-18px-2c" language="true">Variables del Promedio Movil</p>
                    <table class="mx-auto table table-striped table-hover table-sm">
                        <thead>
                            <tr class="bg-light">
                                <th class="text-secondary font-size-20px-2c">X</th>
                                <th class="text-secondary font-size-20px-2c">{% if data.0|length > 7 %}Mes{% else %}Dia{% endif %}</th>
                                <th class="text-secondary font-size-20px-2c" language="true">Promedio</th>
                                <th class="text-secondary font-size-20px-2c"><span language="true">Promedio</span><br><span language="true">Ajustado</span></th>
                                <th class="text-secondary font-size-20px-2c">Forecast</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for x1,x2,x3,x4,x5 in movil_data %}
                            <tr>                                
                                <td class="font-quicksand" style="color:#52524e;">{{x1}}</td>
                                <td class="font-quicksand" style="color:#52524e;">{{x2}}</td>
                                <td class="font-quicksand" style="color:#52524e;">{{x3}}</td>
                                <td class="font-quicksand" style="color:#52524e;">{{x4}}</td>
                                <td class="font-quicksand" style="color:#52524e;">{{x5}}</td>                                
                            </tr>
                            {% endfor %}                            
                        </tbody>
                    </table>
                    <div class="text-center">
                        <button class="btn btn-primary my-2" onclick="downloadChartMovil()" language="true">Descargar Imagen</button>
                        <a href="/pronosticos-alpha/download" link-post='true' line-chart='0' class="btn btn-success" language="true">Descargar Excel</a>
                    </div>            
                    <a href="#" id="link-download-movil" style="visibility:hidden;"></a>
                </div>
            </div>
        </div>
    </div>
    -->
{% endblock %} 

{% block modal_graph_complete %}
    <!--
    <div class="modal fade" id="modalFull" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="background: rgba(0,0,0,0.75) !important;">
        <div class="modal-dialog modal-dialog-centered center" role="document" style="width: 90% !important;max-width: 90% !important;">
            <div class="modal-content">
                <div class="modal-header">                    
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>                    
                </div>
                <div class="modal-body">
                    <canvas id="line-chart-30"></canvas>                    
                </div>
            </div>
        </div>
    </div>
    -->
    {% include "core/Modal/Modal.html" with modalId="modalFull" modalBasePath="core/Modal/" modalHeaderPath="ModalHeader.html" modalBodyPath="ModalGraphComplete/ModalGraphComplete.html" %}
{% endblock %}

{% block scripts %}
    {% load static %}
    <script src="{% static 'core/vendor/language-component/language-component.js' %}"></script>
    <script src="{% static 'core/vendor/language-component/graphicspronosimple/language-dataset.js' %}"></script>
    <script src="{% static 'core/js/tag-graphic.js' %}"></script>
    <script src="{% static 'core/vendor/chartjs-2.7.3/utils.js' %}"></script>
    <script src="{% static 'core/vendor/chartjs-2.7.3/Chart.min.js' %}"></script>
    <script src="{% static 'core/vendor/chartjs-2.7.3/line-chart-global.js' %}"></script>
    <script src="{% static 'core/vendor/chartjs-2.7.3/line-chart-02.js' %}"></script>
    <script src="{% static 'core/vendor/chartjs-2.7.3/download-chart.js' %}"></script>
    <script src="{% static 'core/js/modal-graphic.js' %}"></script>
    <script src="{% static 'core/js/link-to-post-link.js' %}"></script>

    <script>
        var TOKEN = "{{csrf}}"
        var data_request_django = "{{data|escapejs|safe}}"
        var data_django = JSON.parse(data_request_django) // borrar despues
        //data_request_django = JSON.parse(data_request_django).join(";")
        var lineal = JSON.parse("{{lineal|escapejs|safe}}")
        var lineal_corre = JSON.parse("{{lineal_corre|escapejs|safe}}")
        var expo = JSON.parse("{{expo|escapejs|safe}}")
        var expo_corre = JSON.parse("{{expo_corre|escapejs|safe}}")
        var cuadra = JSON.parse("{{cuadra|escapejs|safe}}")
        var cuadra_corre = JSON.parse("{{cuadra_corre|escapejs|safe}}")
        var movil_2 = JSON.parse("{{movil_2|escapejs|safe}}")
        var movil_2_corre = JSON.parse("{{movil_corre_2|escapejs|safe}}")
        var movil_3 = JSON.parse("{{movil_3|escapejs|safe}}")
        var movil_3_corre = JSON.parse("{{movil_corre_3|escapejs|safe}}")
        var simple_soft = JSON.parse("{{simple_soft|escapejs|safe}}")
        var simple_soft_corre = JSON.parse("{{simple_soft_corre|escapejs|safe}}")
        var double_soft = JSON.parse("{{double_soft|escapejs|safe}}")
        var double_soft_corre = JSON.parse("{{double_soft_corre|escapejs|safe}}")
        var best_corre = Math.max(lineal_corre,expo_corre,cuadra_corre,movil_2_corre,movil_3_corre,
        simple_soft_corre,double_soft_corre)
        var best_index_forecast = get_best_index_forecast(best_corre,
            [double_soft_corre,simple_soft_corre,movil_3_corre,movil_2_corre,cuadra_corre,expo_corre,lineal_corre])
        var best_forecast = get_best_forecast(
            [double_soft,simple_soft,movil_3,movil_2,cuadra,expo,lineal],best_index_forecast
        )

        django_x_label_chart_01 = get_language_text( (data_django[0].length > 7), (data_django[0].length > 4), ["MESES TOTALES","DIAS TOTALES","SEMANAS TOTALES","TOTAL MONTHS","TOTAL DAYS","TOTAL WEEKS"])
        django_list_data_chart_01 = [].concat.apply([], data_django)
        django_list_labels_chart_01 = Array.from(Array(django_list_data_chart_01.length).keys()).map(x => ++x)

        django_x_label_chart_02 = get_language_text( (data_django[0].length > 7), (data_django[0].length > 4), ["AÑOS","SEMANAS","MESE","YEARS","WEEKS","MONTHS"])
        django_list_data_chart_02 = data_django
        django_list_labels_chart_02 = Array.from(Array(data_django[0].length).keys()).map(x => ++x)

        data_django_last_row = data_django[data_django.length-1]
        year_label = getCurrentLanguage() == 'ES' ? 'Datos históricos' : 'Historical facts'
        prono_label = getCurrentLanguage() == 'ES' ? 'Pronostico' : 'Forecast'
        corre_label = getCurrentLanguage() == 'ES' ? 'Nivel de Certeza' : 'Level of certainty'     


        forecasts_labels_x = get_language_text( (data_django[0].length > 7), (data_django[0].length > 4), ["MESES","DIAS","SEMANAS","MONTHS","DAYS","WEEKS"])

        django_x_label_chart_03 = forecasts_labels_x
        django_list_data_chart_03 = best_forecast
        django_list_labels_chart_03 = Array.from(Array(django_list_data_chart_03.length).keys()).map(x => ++x)
        django_list_graph_compare = (best_index_forecast > 1) ? django_list_data_chart_01 : data_django_last_row

        django_list_data_chart_04 = lineal
        django_list_labels_chart_04 = Array.from(Array(django_list_data_chart_04.length).keys()).map(x => ++x)

        django_list_data_chart_05 = expo
        django_list_labels_chart_05 = Array.from(Array(django_list_data_chart_05.length).keys()).map(x => ++x)

        django_list_data_chart_06 = cuadra
        django_list_labels_chart_06 = Array.from(Array(django_list_data_chart_06.length).keys()).map(x => ++x)
        
        django_list_data_chart_07 = movil_2
        django_list_labels_chart_07 = Array.from(Array(django_list_data_chart_07.length).keys()).map(x => ++x)

        django_list_data_chart_08 = movil_3
        django_list_labels_chart_08 = Array.from(Array(django_list_data_chart_08.length).keys()).map(x => ++x)

        django_list_data_chart_09 = simple_soft
        django_list_labels_chart_09 = Array.from(Array(django_list_data_chart_09.length).keys()).map(x => ++x)

        django_list_data_chart_10 = double_soft
        django_list_labels_chart_10 = Array.from(Array(django_list_data_chart_10.length).keys()).map(x => ++x)


        function get_language_text(condition,condition2,texts){
            switch(getCurrentLanguage()){
                case 'ES':
                    return condition ? texts[0] : condition2 ? texts[1] : texts[2]
                    break
                case 'EN':
                    return condition ? texts[3] : condition2 ? texts[4] : texts[5]
                    break
                default:
                    return condition ? texts[0] : condition2 ? texts[1] : texts[2]
                    break
            }
        } 
        function get_best_index_forecast(best_corre,list_correlations){
            return list_correlations.indexOf(best_corre)
        }
        function get_best_forecast(list_forecasts,index){
            return list_forecasts[index]
        }
    </script>

    <script>
        var chart1,chart3,chart4,chart5,chart6,chart7,chart8,chart9,chart10,chart11,chart12,chart13
        window.addEventListener("load",createChars,false);

        function createChars(){

            chart1 = createCharWithLabel('line-chart-01', django_list_labels_chart_01, django_list_data_chart_01,django_x_label_chart_01);
            chart3 = createChar('line-chart-03', django_list_labels_chart_03, django_list_data_chart_03,django_list_graph_compare);
            $("span[best_corre]").html(best_corre+'%')
            chart4 = createChar('line-chart-04', django_list_labels_chart_04, django_list_data_chart_04,django_list_data_chart_01);
            chart5 = createChar('line-chart-05', django_list_labels_chart_05, django_list_data_chart_05,django_list_data_chart_01);
            chart6 = createChar('line-chart-06', django_list_labels_chart_06, django_list_data_chart_06,django_list_data_chart_01);
            chart7 = createChar('line-chart-07', django_list_labels_chart_07, django_list_data_chart_07,django_list_data_chart_01);
            chart8 = createChar('line-chart-08', django_list_labels_chart_08, django_list_data_chart_08,django_list_data_chart_01);
            chart9 = createChar('line-chart-09', django_list_labels_chart_09, django_list_data_chart_09,data_django_last_row);
            chart10 = createChar('line-chart-10', django_list_labels_chart_10, django_list_data_chart_10,data_django_last_row);
        }
    </script>  
    <script>
        $(document).ready(function(){
            $('#modalExample').modal('hide')      
            $('#modal_lin').modal('hide')      
            $('#modal_expo').modal('hide')      
            $('#modal_movil').modal('hide')  
            $('#modalFull').modal('hide')

            $("button[button-best-forecast]").on('click',function(){
                    var number = 6 - best_index_forecast + 4
                    switch(number){
                        case 4:
                            if(chart_lin !== undefined){chart_lin.destroy()}
                            chart_lin = modal_chart('#modal_lin','line-chart-15',this)
                        break;
                        case 5:
                            if(chart_expo !== undefined){chart_expo.destroy()}                        
                            chart_expo = modal_chart('#modal_expo','line-chart-16',this)                
                        break;
                        case 7:
                            if(chart_movil !== undefined){chart_movil.destroy()}
                            chart_movil = modal_chart('#modal_movil','line-chart-17',this)                
                        break;

                        case 9:
                            modal_chart_extended(number,1);                
                        break;
                        case 10:
                            modal_chart_extended(number,1);
                        break;

                        default:
                            modal_chart_extended(number,0);
                        break;
                    }
            })
        });      
    </script>  
{% endblock %}